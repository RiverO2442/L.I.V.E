# ---- Build stage ----
  FROM node:20-alpine AS build
  WORKDIR /app
  COPY package*.json ./
  # Use --legacy-peer-deps to bypass React 19 vs material-ui conflict
  RUN npm install --legacy-peer-deps
  COPY . .
  RUN npm run build
  
  # ---- Nginx stage ----
  FROM nginx:alpine
  COPY --from=build /app/dist /usr/share/nginx/html
  COPY nginx.conf /etc/nginx/conf.d/default.conf
  EXPOSE 80
  